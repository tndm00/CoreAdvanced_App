!function(Y){"use strict";var t={zoom:{interactive:!1,active:!1,amount:1.5},pan:{interactive:!1,active:!1,cursor:"move",frameRate:60,mode:"smart"},recenter:{interactive:!0},xaxis:{axisZoom:!0,plotZoom:!0,axisPan:!0,plotPan:!0,panRange:[void 0,void 0],zoomRange:[void 0,void 0]},yaxis:{axisZoom:!0,plotZoom:!0,axisPan:!0,plotPan:!0,panRange:[void 0,void 0],zoomRange:[void 0,void 0]}},O=Y.plot.saturated,X=Y.plot.browser,T=Y.plot.uiConstants.SNAPPING_CONSTANT,z=Y.plot.uiConstants.PANHINT_LENGTH_CONSTANT;function e(h,t){var r=null,a=!1,n="manual"===t.pan.mode,o="smartLock"===t.pan.mode,i=o||"smart"===t.pan.mode;var s,f="default",b=null,l=null,c={x:0,y:0},p=!1;function u(t,e){var o=Math.abs(t.originalEvent.deltaY)<=1?1+Math.abs(t.originalEvent.deltaY)/50:null;if(p&&m(t),h.getOptions().zoom.active)return t.preventDefault(),function(t,e,o){var a=X.getPageXY(t);(t=h.offset()).left=a.X-t.left,t.top=a.Y-t.top;var n=h.getPlaceholder().offset();n.left=a.X-n.left,n.top=a.Y-n.top,0===(a=h.getXAxes().concat(h.getYAxes()).filter(function(t){t=t.box;if(void 0!==t)return n.left>t.left&&n.left<t.left+t.width&&n.top>t.top&&n.top<t.top+t.height})).length&&(a=void 0),e?h.zoomOut({center:t,axes:a,amount:o}):h.zoom({center:t,axes:a,amount:o})}(t,e<0,o),!1}function d(t){a=!0}function g(t){a=!1}function x(t){if(!a||0!==t.button)return!1;p=!0;var e=X.getPageXY(t),o=h.getPlaceholder().offset();o.left=e.X-o.left,o.top=e.Y-o.top,0===(r=h.getXAxes().concat(h.getYAxes()).filter(function(t){t=t.box;if(void 0!==t)return o.left>t.left&&o.left<t.left+t.width&&o.top>t.top&&o.top<t.top+t.height})).length&&(r=void 0);t=h.getPlaceholder().css("cursor");t&&(f=t),h.getPlaceholder().css("cursor",h.getOptions().pan.cursor),i?s=h.navigationState(e.X,e.Y):n&&(c.x=e.X,c.y=e.Y)}function v(t){var e;p&&(e=X.getPageXY(t),-1!==(t=h.getOptions().pan.frameRate)?!l&&t&&(l=setTimeout(function(){i?h.smartPan({x:s.startPageX-e.X,y:s.startPageY-e.Y},s,r,!1,o):n&&(h.pan({left:c.x-e.X,top:c.y-e.Y,axes:r}),c.x=e.X,c.y=e.Y),l=null},1/t*1e3)):i?h.smartPan({x:s.startPageX-e.X,y:s.startPageY-e.Y},s,r,!1,o):n&&(h.pan({left:c.x-e.X,top:c.y-e.Y,axes:r}),c.x=e.X,c.y=e.Y))}function m(t){p&&(l&&(clearTimeout(l),l=null),p=!1,t=X.getPageXY(t),h.getPlaceholder().css("cursor",f),i?(h.smartPan({x:s.startPageX-t.X,y:s.startPageY-t.Y},s,r,!1,o),h.smartPan.end()):n&&(h.pan({left:c.x-t.X,top:c.y-t.Y,axes:r}),c.x=0,c.y=0))}function y(t){var e;h.activate(),h.getOptions().recenter.interactive&&(e=h.getTouchedAxis(t.clientX,t.clientY),h.recenter({axes:e[0]?e:null}),t=e[0]?new Y.Event("re-center",{detail:{axisTouched:e[0]}}):new Y.Event("re-center",{detail:t}),h.getPlaceholder().trigger(t))}function P(t){return h.activate(),p&&m(t),!1}h.navigationState=function(t,e){var o=this.getAxes(),a={};return Object.keys(o).forEach(function(t){var e=o[t];a[t]={navigationOffset:{below:e.options.offset.below||0,above:e.options.offset.above||0},axisMin:e.min,axisMax:e.max,diagMode:!1}}),a.startPageX=t||0,a.startPageY=e||0,a},h.activate=function(){var t=h.getOptions();t.pan.active&&t.zoom.active||(t.pan.active=!0,t.zoom.active=!0,h.getPlaceholder().trigger("plotactivated",[h]))},h.zoomOut=function(t){(t=t||{}).amount||(t.amount=h.getOptions().zoom.amount),t.amount=1/t.amount,h.zoom(t)},h.zoom=function(t){var e,o=(t=t||{}).center,a=t.amount||h.getOptions().zoom.amount,n=h.width(),i=h.height(),s=t.axes||h.getAxes(),r=(o=o||{left:n/2,top:i/2}).left/n,f=o.top/i,l={x:{min:o.left-r*n/a,max:o.left+(1-r)*n/a},y:{min:o.top-f*i/a,max:o.top+(1-f)*i/a}};for(e in s)if(s.hasOwnProperty(e)){var c,p=s[e],u=p.options,d=l[p.direction].min,g=l[p.direction].max,x=p.options.offset;if((u.axisZoom||!t.axes)&&(t.axes||u.plotZoom)){if(d=Y.plot.saturated.saturate(p.c2p(d)),(g=Y.plot.saturated.saturate(p.c2p(g)))<d&&(c=d,d=g,g=c),u.zoomRange){if(g-d<u.zoomRange[0])continue;if(g-d>u.zoomRange[1])continue}d=Y.plot.saturated.saturate(x.below-(p.min-d)),g=Y.plot.saturated.saturate(x.above-(p.max-g));u.offset={below:d,above:g}}}h.setupGrid(!0),h.draw(),t.preventEvent||h.getPlaceholder().trigger("plotzoom",[h,t])},h.pan=function(s){var r={x:+s.left,y:+s.top};isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),Y.each(s.axes||h.getAxes(),function(t,e){var o,a,n=e.options,i=r[e.direction];!n.axisPan&&s.axes||!n.plotPan&&!s.axes||(a=e.p2c(n.panRange[0])-e.p2c(e.min),o=e.p2c(n.panRange[1])-e.p2c(e.max),void 0!==n.panRange[0]&&o<=i&&(i=o),void 0!==n.panRange[1]&&i<=a&&(i=a),0!==i&&(a=O.saturate(e.c2p(e.p2c(e.min)+i)-e.c2p(e.p2c(e.min))),e=O.saturate(e.c2p(e.p2c(e.max)+i)-e.c2p(e.p2c(e.max))),isFinite(a)||(a=0),isFinite(e)||(e=0),n.offset={below:O.saturate(a+(n.offset.below||0)),above:O.saturate(e+(n.offset.above||0))}))}),h.setupGrid(!0),h.draw(),s.preventEvent||h.getPlaceholder().trigger("plotpan",[h,s])},h.recenter=function(o){Y.each(o.axes||h.getAxes(),function(t,e){o.axes?"x"===this.direction?e.options.offset={below:0}:"y"===this.direction&&(e.options.offset={above:0}):e.options.offset={below:0,above:0}}),h.setupGrid(!0),h.draw()};var w=null,M={x:0,y:0};h.smartPan=function(o,t,a,e,n){var i,s,r,f,l,c,p,u,d,g,x,v,s=!!n||(s=o,Math.abs(s.y)<T&&Math.abs(s.x)>=T||Math.abs(s.x)<T&&Math.abs(s.y)>=T),m=h.getAxes();o=n?function(t){switch(!w&&Math.max(Math.abs(t.x),Math.abs(t.y))>=T&&(w=Math.abs(t.x)<Math.abs(t.y)?"y":"x"),w){case"x":return{x:t.x,y:0};case"y":return{x:0,y:t.y};default:return{x:0,y:0}}}(o):(r=o,Math.abs(r.x)<T&&Math.abs(r.y)>=T?{x:0,y:r.y}:Math.abs(r.y)<T&&Math.abs(r.x)>=T?{x:r.x,y:0}:r),r=o,0<Math.abs(r.x)&&0<Math.abs(r.y)&&(t.diagMode=!0),s&&!0===t.diagMode&&(t.diagMode=!1,f=m,l=t,c=o,Object.keys(f).forEach(function(t){p=f[t],0===c[p.direction]&&(p.options.offset.below=l[t].navigationOffset.below,p.options.offset.above=l[t].navigationOffset.above)})),b=s?{start:{x:t.startPageX-h.offset().left+h.getPlotOffset().left,y:t.startPageY-h.offset().top+h.getPlotOffset().top},end:{x:t.startPageX-o.x-h.offset().left+h.getPlotOffset().left,y:t.startPageY-o.y-h.offset().top+h.getPlotOffset().top}}:{start:{x:t.startPageX-h.offset().left+h.getPlotOffset().left,y:t.startPageY-h.offset().top+h.getPlotOffset().top},end:!1},isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0),a&&(m=a),Object.keys(m).forEach(function(t){var e;u=m[t],d=u.min,g=u.max,i=u.options,v=o[u.direction],x=M[u.direction],!i.axisPan&&a||!a&&!i.plotPan||(e=x+u.p2c(i.panRange[0])-u.p2c(d),t=x+u.p2c(i.panRange[1])-u.p2c(g),void 0!==i.panRange[0]&&t<=v&&(v=t),void 0!==i.panRange[1]&&v<=e&&(v=e),0!==v&&(t=O.saturate(u.c2p(u.p2c(d)-(x-v))-u.c2p(u.p2c(d))),e=O.saturate(u.c2p(u.p2c(g)-(x-v))-u.c2p(u.p2c(g))),isFinite(t)||(t=0),isFinite(e)||(e=0),u.options.offset.below=O.saturate(t+(u.options.offset.below||0)),u.options.offset.above=O.saturate(e+(u.options.offset.above||0))))}),M=o,h.setupGrid(!0),h.draw(),e||h.getPlaceholder().trigger("plotpan",[h,o,a,t])},h.smartPan.end=function(){w=b=null,M={x:0,y:0},h.triggerRedrawOverlay()},h.getTouchedAxis=function(t,e){var o=h.getPlaceholder().offset();return o.left=t-o.left,o.top=e-o.top,h.getXAxes().concat(h.getYAxes()).filter(function(t){t=t.box;if(void 0!==t)return o.left>t.left&&o.left<t.left+t.width&&o.top>t.top&&o.top<t.top+t.height})},h.hooks.drawOverlay.push(function(t,e){var o,a,n,i,s;b&&(e.strokeStyle="rgba(96, 160, 208, 0.7)",e.lineWidth=2,e.lineJoin="round",o=Math.round(b.start.x),a=Math.round(b.start.y),r?"x"===r[0].direction?(i=Math.round(b.start.y),n=Math.round(b.end.x)):"y"===r[0].direction&&(n=Math.round(b.start.x),i=Math.round(b.end.y)):(n=Math.round(b.end.x),i=Math.round(b.end.y)),e.beginPath(),!1===b.end?(e.moveTo(o,a-z),e.lineTo(o,a+z),e.moveTo(o+z,a),e.lineTo(o-z,a)):(s=a===i,e.moveTo(o-(s?0:z),a-(s?z:0)),e.lineTo(o+(s?0:z),a+(s?z:0)),e.moveTo(o,a),e.lineTo(n,i),e.moveTo(n-(s?0:z),i-(s?z:0)),e.lineTo(n+(s?0:z),i+(s?z:0))),e.stroke())}),h.hooks.bindEvents.push(function(t,e){var o=t.getOptions();o.zoom.interactive&&e.mousewheel(u),o.pan.interactive&&(t.addEventHandler("dragstart",x,e,0),t.addEventHandler("drag",v,e,0),t.addEventHandler("dragend",m,e,0),e.bind("mousedown",d),e.bind("mouseup",g)),e.dblclick(y),e.click(P)}),h.hooks.shutdown.push(function(t,e){e.unbind("mousewheel",u),e.unbind("mousedown",d),e.unbind("mouseup",g),e.unbind("dragstart",x),e.unbind("drag",v),e.unbind("dragend",m),e.unbind("dblclick",y),e.unbind("click",P),l&&clearTimeout(l)})}Y.plot.plugins.push({init:function(t){t.hooks.processOptions.push(e)},options:t,name:"navigate",version:"1.3"})}(jQuery);