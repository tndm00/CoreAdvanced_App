!function(o){"use strict";o.plot.drawSeries=new function(){function p(i,n,a,e,t,l,o,s,m,r,c){var x,f,p,u=i+e,d=i+t,h=a,T=n,v=!1,b=x=f=!0;r?(b=!(v=x=f=!0),T=n+e,h=n+t,(d=i)<(u=a)&&(p=d,d=u,u=p,x=!(b=!0))):(v=!(b=x=f=!0),u=i+e,d=i+t,(T=n)<(h=a)&&(p=T,T=h,h=p,f=!(v=!0))),d<o.min||u>o.max||T<s.min||h>s.max||(u<o.min&&(u=o.min,b=!1),d>o.max&&(d=o.max,x=!1),h<s.min&&(h=s.min,v=!1),T>s.max&&(T=s.max,f=!1),u=o.p2c(u),h=s.p2c(h),d=o.p2c(d),T=s.p2c(T),l&&(m.fillStyle=l(h,T),m.fillRect(u,T,d-u,h-T)),0<c&&(b||x||f||v)&&(m.beginPath(),m.moveTo(u,h),b?m.lineTo(u,T):m.moveTo(u,T),f?m.lineTo(d,T):m.moveTo(d,T),x?m.lineTo(d,h):m.moveTo(d,h),v?m.lineTo(u,h):m.moveTo(u,h),m.stroke()))}function r(i,n,a,e,t){var l=i.fill;if(!l)return null;if(i.fillColor)return t(i.fillColor,a,e,n);n=o.color.parse(n);return n.a="number"==typeof l?l:.4,n.normalize(),n.toString()}this.drawSeriesLines=function(i,n,a,e,t,l,o){n.save(),n.translate(a.left,a.top),n.lineJoin="round",i.lines.dashes&&n.setLineDash&&n.setLineDash(i.lines.dashes),a={format:i.datapoints.format,points:i.datapoints.points,pointsize:i.datapoints.pointsize},i.decimate&&(a.points=i.decimate(i,i.xaxis.min,i.xaxis.max,e,i.yaxis.min,i.yaxis.max,t)),e=i.lines.lineWidth,n.lineWidth=e,n.strokeStyle=i.color,(o=r(i.lines,i.color,0,t,o))&&(n.fillStyle=o,function(i,n,a,e,t,l){for(var o=i.points,s=i.pointsize,m=e>a.min?Math.min(a.max,e):a.min,r=0,c=1,x=!1,f=0,p=0,u=null,d=null;!(0<s&&r>o.length+s);){var h,T,v=o[(r+=s)-s],b=o[r-s+c],y=o[r],g=o[r+c];if(-2===s&&(b=g=m),x){if(0<s&&null!=v&&null==y){p=r,s=-s,c=2;continue}if(s<0&&r===f+s){t.fill(),x=!1,c=1,r=f=p+(s=-s);continue}}if(null!=v&&null!=y){if(l&&(null!==u&&null!==d?(y=v,g=b,v=u,b=d,d=u=null,r-=s):b!==g&&v!==y&&(u=y,d=g=b)),v<=y&&v<n.min){if(y<n.min)continue;b=(n.min-v)/(y-v)*(g-b)+b,v=n.min}else if(y<=v&&y<n.min){if(v<n.min)continue;g=(n.min-v)/(y-v)*(g-b)+b,y=n.min}if(y<=v&&v>n.max){if(y>n.max)continue;b=(n.max-v)/(y-v)*(g-b)+b,v=n.max}else if(v<=y&&y>n.max){if(v>n.max)continue;g=(n.max-v)/(y-v)*(g-b)+b,y=n.max}x||(t.beginPath(),t.moveTo(n.p2c(v),a.p2c(m)),x=!0),b>=a.max&&g>=a.max?(t.lineTo(n.p2c(v),a.p2c(a.max)),t.lineTo(n.p2c(y),a.p2c(a.max))):b<=a.min&&g<=a.min?(t.lineTo(n.p2c(v),a.p2c(a.min)),t.lineTo(n.p2c(y),a.p2c(a.min))):(h=v,T=y,b<=g&&b<a.min&&g>=a.min?(v=(a.min-b)/(g-b)*(y-v)+v,b=a.min):g<=b&&g<a.min&&b>=a.min&&(y=(a.min-b)/(g-b)*(y-v)+v,g=a.min),g<=b&&b>a.max&&g<=a.max?(v=(a.max-b)/(g-b)*(y-v)+v,b=a.max):b<=g&&g>a.max&&b<=a.max&&(y=(a.max-b)/(g-b)*(y-v)+v,g=a.max),v!==h&&t.lineTo(n.p2c(h),a.p2c(b)),t.lineTo(n.p2c(v),a.p2c(b)),t.lineTo(n.p2c(y),a.p2c(g)),y!==T&&(t.lineTo(n.p2c(y),a.p2c(g)),t.lineTo(n.p2c(T),a.p2c(g))))}else d=u=null}}(a,i.xaxis,i.yaxis,i.lines.fillTowards||0,n,i.lines.steps)),0<e&&function(i,n,a,e,t,l,o){var s=i.points,m=i.pointsize,r=null,c=null,x=0,f=0,p=0,u=0,d=null,h=null,T=0;for(l.beginPath(),T=m;T<s.length;T+=m)if(x=s[T-m],f=s[T-m+1],p=s[T],u=s[T+1],null!==x&&null!==p)if(isNaN(x)||isNaN(p)||isNaN(f)||isNaN(u))c=r=null;else{if(o&&(null!==d&&null!==h?(p=x,u=f,x=d,f=h,h=d=null,T-=m):f!==u&&x!==p&&(d=p,h=u=f)),f<=u&&f<t.min){if(u<t.min)continue;x=(t.min-f)/(u-f)*(p-x)+x,f=t.min}else if(u<=f&&u<t.min){if(f<t.min)continue;p=(t.min-f)/(u-f)*(p-x)+x,u=t.min}if(u<=f&&f>t.max){if(u>t.max)continue;x=(t.max-f)/(u-f)*(p-x)+x,f=t.max}else if(f<=u&&u>t.max){if(f>t.max)continue;p=(t.max-f)/(u-f)*(p-x)+x,u=t.max}if(x<=p&&x<e.min){if(p<e.min)continue;f=(e.min-x)/(p-x)*(u-f)+f,x=e.min}else if(p<=x&&p<e.min){if(x<e.min)continue;u=(e.min-x)/(p-x)*(u-f)+f,p=e.min}if(p<=x&&x>e.max){if(p>e.max)continue;f=(e.max-x)/(p-x)*(u-f)+f,x=e.max}else if(x<=p&&p>e.max){if(x>e.max)continue;u=(e.max-x)/(p-x)*(u-f)+f,p=e.max}x===r&&f===c||l.moveTo(e.p2c(x)+n,t.p2c(f)+a),r=p,c=u,l.lineTo(e.p2c(p)+n,t.p2c(u)+a)}else h=d=null;l.stroke()}(a,0,0,i.xaxis,i.yaxis,n,i.lines.steps),n.restore()},this.drawSeriesPoints=function(i,p,n,a,e,t,l){function o(i,n,a,e,t,l){i.moveTo(n+e,a),i.arc(n,a,e,0,t?Math.PI:2*Math.PI,!1)}o.fill=!0,p.save(),p.translate(n.left,n.top);var s={format:i.datapoints.format,points:i.datapoints.points,pointsize:i.datapoints.pointsize};i.decimatePoints&&(s.points=i.decimatePoints(i,i.xaxis.min,i.xaxis.max,a,i.yaxis.min,i.yaxis.max,e));var m,n=i.points.lineWidth,a=i.points.radius;"circle"===(e=i.points.symbol)?m=o:"string"==typeof e&&t&&t[e]?m=t[e]:"function"==typeof t&&(m=t),0===n&&(n=1e-4),p.lineWidth=n,p.fillStyle=r(i.points,i.color,null,null,l),p.strokeStyle=i.color,function(i,n,a,e,t,l,o,s){var m=i.points,r=i.pointsize;p.beginPath();for(var c=0;c<m.length;c+=r){var x=m[c],f=m[c+1];null==x||x<l.min||x>l.max||f<o.min||f>o.max||(x=l.p2c(x),f=o.p2c(f)+e,s(p,x,f,n,t,a))}s.fill&&!t&&p.fill(),p.stroke()}(s,a,!0,0,!1,i.xaxis,i.yaxis,m),p.restore()},this.drawSeriesBars=function(x,f,i,n,a,e,t){f.save(),f.translate(i.left,i.top);var l,i={format:x.datapoints.format,points:x.datapoints.points,pointsize:x.datapoints.pointsize};switch(x.decimate&&(i.points=x.decimate(x,x.xaxis.min,x.xaxis.max,n)),f.lineWidth=x.bars.lineWidth,f.strokeStyle=x.color,n=x.bars.barWidth[0]||x.bars.barWidth,x.bars.align){case"left":l=0;break;case"right":l=-n;break;default:l=-n/2}!function(i,n,a,e,t,l){for(var o,s=i.points,m=i.pointsize,r=(i=x.bars.fillTowards||0)>l.min?Math.min(l.max,i):l.min,c=0;c<s.length;c+=m)null!=s[c]&&(o=3===m?s[c+2]:r,p(s[c],s[c+1],o,n,a,e,t,l,f,x.bars.horizontal,x.bars.lineWidth))}(i,l,l+n,x.bars.fill?function(i,n){return r(x.bars,x.color,i,n,t)}:null,x.xaxis,x.yaxis),f.restore()},this.drawBar=p}}(jQuery);