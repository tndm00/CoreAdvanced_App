jQuery.plot.plugins.push({init:function(s){s.hooks.processDatapoints.push(function(s,n,o){if(null!=n.stack&&!1!==n.stack){var t=n.bars.show||n.lines.show&&n.lines.fill,i=2<o.pointsize&&(n.bars.horizontal?o.format[2].x:o.format[2].y);t&&!i&&function(s,n){for(var o=[],t=0;t<n.points.length;t+=2)o.push(n.points[t]),o.push(n.points[t+1]),o.push(0);n.format.push({x:s.bars.horizontal,y:!s.bars.horizontal,number:!0,required:!1,computeRange:"none"!==s.yaxis.options.autoScale,defaultValue:0}),n.points=o,n.pointsize=3}(n,o);s=function(s,n){for(var o=null,t=0;t<n.length&&s!==n[t];++t)n[t].stack===s.stack&&(o=n[t]);return o}(n,s.getData());if(s){for(var l,e,a,u,p,r,f,h=o.pointsize,c=o.points,g=s.datapoints.pointsize,z=s.datapoints.points,k=[],b=n.lines.show,s=n.bars.horizontal,m=b&&n.lines.steps,v=!0,d=s?1:0,y=s?0:1,w=0,x=0;!(w>=c.length);){if(r=k.length,null==c[w]){for(f=0;f<h;++f)k.push(c[w+f]);w+=h}else if(x>=z.length){if(!b)for(f=0;f<h;++f)k.push(c[w+f]);w+=h}else if(null==z[x]){for(f=0;f<h;++f)k.push(null);v=!0,x+=g}else{if(l=c[w+d],e=c[w+y],a=z[x+d],u=z[x+y],p=0,l===a){for(f=0;f<h;++f)k.push(c[w+f]);k[r+y]+=u,p=u,w+=h,x+=g}else if(a<l){if(b&&0<w&&null!=c[w-h]){for(e=e+(c[w-h+y]-e)*(a-l)/(c[w-h+d]-l),k.push(a),k.push(e+u),f=2;f<h;++f)k.push(c[w+f]);p=u}x+=g}else{if(v&&b){w+=h;continue}for(f=0;f<h;++f)k.push(c[w+f]);b&&0<x&&null!=z[x-g]&&(p=u+(z[x-g+y]-u)*(l-a)/(z[x-g+d]-a)),k[r+y]+=p,w+=h}v=!1,r!==k.length&&t&&(k[r+2]+=p)}if(m&&r!==k.length&&0<r&&null!==k[r]&&k[r]!==k[r-h]&&k[r+1]!==k[r-h+1]){for(f=0;f<h;++f)k[r+h+f]=k[r+f];k[r+1]=k[r-h+1]}}o.points=k}}})},options:{series:{stack:null}},name:"stack",version:"1.2"});