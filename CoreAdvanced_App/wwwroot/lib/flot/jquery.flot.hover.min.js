!function(e){"use strict";var t=e.plot.browser,i={click:"click",hover:"hover"};e.plot.plugins.push({init:function(o){var r,a=[];function n(e){var t=o.getOptions(),r=new CustomEvent("mouseevent");return r.pageX=e.detail.changedTouches[0].pageX,r.pageY=e.detail.changedTouches[0].pageY,r.clientX=e.detail.changedTouches[0].clientX,r.clientY=e.detail.changedTouches[0].clientY,t.grid.hoverable&&s(r,i.hover,30),!1}function s(e,t,i){var r=o.getData();if(void 0!==e&&r.length>0&&void 0!==r[0].xaxis.c2p&&void 0!==r[0].yaxis.c2p){var a=t+"able";u("plot"+t,e,function(e){return!1!==r[e][a]},i)}}function l(e){r=e,o.getPlaceholder()[0].lastMouseMoveEvent=e,s(e,i.hover)}function c(e){r=void 0,o.getPlaceholder()[0].lastMouseMoveEvent=void 0,u("plothover",e,function(e){return!1})}function h(e){s(e,i.click)}function p(){o.unhighlight(),o.getPlaceholder().trigger("plothovercleanup")}function u(e,i,r,n){var s=o.getOptions(),l=o.offset(),c=t.getPageXY(i),h=c.X-l.left,p=c.Y-l.top,u=o.c2p({left:h,top:p}),v=void 0!==n?n:s.grid.mouseActiveRadius;u.pageX=c.X,u.pageY=c.Y;var f=o.findNearbyItems(h,p,r,v),b=f[0];for(let e=1;e<f.length;++e)(void 0===b.distance||f[e].distance<b.distance)&&(b=f[e]);if(b?(b.pageX=parseInt(b.series.xaxis.p2c(b.datapoint[0])+l.left,10),b.pageY=parseInt(b.series.yaxis.p2c(b.datapoint[1])+l.top,10)):b=null,s.grid.autoHighlight){for(let t=0;t<a.length;++t){var m=a[t];(m.auto!==e||b&&m.series===b.series&&m.point[0]===b.datapoint[0]&&m.point[1]===b.datapoint[1])&&b||g(m.series,m.point)}b&&d(b.series,b.datapoint,e)}o.getPlaceholder().trigger(e,[u,b,f])}function d(e,t,i){if("number"==typeof e&&(e=o.getData()[e]),"number"==typeof t){var r=e.datapoints.pointsize;t=e.datapoints.points.slice(r*t,r*(t+1))}var n=v(e,t);-1===n?(a.push({series:e,point:t,auto:i}),o.triggerRedrawOverlay()):i||(a[n].auto=!1)}function g(e,t){if(null==e&&null==t)return a=[],void o.triggerRedrawOverlay();if("number"==typeof e&&(e=o.getData()[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var r=v(e,t);-1!==r&&(a.splice(r,1),o.triggerRedrawOverlay())}function v(e,t){for(var i=0;i<a.length;++i){var o=a[i];if(o.series===e&&o.point[0]===t[0]&&o.point[1]===t[1])return i}return-1}function f(){p(),s(r,i.hover)}function b(){s(r,i.hover)}function m(e,t,i){var o,r,n=e.getPlotOffset();for(t.save(),t.translate(n.left,n.top),o=0;o<a.length;++o)(r=a[o]).series.bars.show?k(r.series,r.point,t):y(r.series,r.point,t,e);t.restore()}function y(t,i,o,r){var a=i[0],n=i[1],s=t.xaxis,l=t.yaxis,c="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(a<s.min||a>s.max||n<l.min||n>l.max)){var h=t.points.radius+t.points.lineWidth/2;o.lineWidth=h,o.strokeStyle=c;var p=1.5*h;a=s.p2c(a),n=l.p2c(n),o.beginPath();var u=t.points.symbol;"circle"===u?o.arc(a,n,p,0,2*Math.PI,!1):"string"==typeof u&&r.drawSymbol&&r.drawSymbol[u]&&r.drawSymbol[u](o,a,n,p,!1),o.closePath(),o.stroke()}}function k(t,i,o){var r,a="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),n=a,s=t.bars.barWidth[0]||t.bars.barWidth;switch(t.bars.align){case"left":r=0;break;case"right":r=-s;break;default:r=-s/2}o.lineWidth=t.bars.lineWidth,o.strokeStyle=a;var l=t.bars.fillTowards||0,c=l>t.yaxis.min?Math.min(t.yaxis.max,l):t.yaxis.min;e.plot.drawSeries.drawBar(i[0],i[1],i[2]||c,r,r+s,function(){return n},t.xaxis,t.yaxis,o,t.bars.horizontal,t.bars.lineWidth)}o.hooks.bindEvents.push(function(e,t){var i=e.getOptions();(i.grid.hoverable||i.grid.clickable)&&(t[0].addEventListener("touchevent",p,!1),t[0].addEventListener("tap",n,!1)),i.grid.clickable&&t.bind("click",h),i.grid.hoverable&&(t.bind("mousemove",l),t.bind("mouseleave",c))}),o.hooks.shutdown.push(function(e,t){t[0].removeEventListener("tap",n),t[0].removeEventListener("touchevent",p),t.unbind("mousemove",l),t.unbind("mouseleave",c),t.unbind("click",h),a=[]}),o.hooks.processOptions.push(function(e,t){e.highlight=d,e.unhighlight=g,(t.grid.hoverable||t.grid.clickable)&&(e.hooks.drawOverlay.push(m),e.hooks.processDatapoints.push(f),e.hooks.setupGrid.push(b)),r=e.getPlaceholder()[0].lastMouseMoveEvent})},options:{grid:{hoverable:!1,clickable:!1}},name:"hover",version:"0.1"})}(jQuery);