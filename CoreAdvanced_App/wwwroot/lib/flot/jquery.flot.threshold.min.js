!function(v){v.plot.plugins.push({init:function(o){function h(o,s,t,n,l){var h,e,r,i,p=t.pointsize,u=v.extend({},s);u.datapoints={points:[],pointsize:p,format:t.format},u.label=null,u.color=l,u.threshold=null,u.originSeries=s,u.data=[];for(var a,f=t.points,d=s.lines.show,c=[],g=[],b=0;b<f.length;b+=p){if(h=f[b],i=r,r=(e=f[b+1])<n?c:g,d&&i!==r&&null!==h&&0<b&&null!=f[b-p]){var w=h+(n-e)*(h-f[b-p])/(e-f[b-p+1]);for(i.push(w),i.push(n),a=2;a<p;++a)i.push(f[b+a]);for(r.push(null),r.push(null),a=2;a<p;++a)r.push(f[b+a]);for(r.push(w),r.push(n),a=2;a<p;++a)r.push(f[b+a])}for(r.push(h),r.push(e),a=2;a<p;++a)r.push(f[b+a])}t.points=g,u.datapoints.points=c,0<u.datapoints.points.length&&(s=v.inArray(s,o.getData()),o.getData().splice(s+1,0,u))}o.hooks.processDatapoints.push(function(t,n,l){n.threshold&&(n.threshold instanceof Array?(n.threshold.sort(function(o,s){return o.below-s.below}),v(n.threshold).each(function(o,s){h(t,n,l,s.below,s.color)})):h(t,n,l,n.threshold.below,n.threshold.color))})},options:{series:{threshold:null}},name:"threshold",version:"1.2"})}(jQuery);